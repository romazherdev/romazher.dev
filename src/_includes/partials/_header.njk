<header id="header" class="py-5 sticky top-0 max-md:border-b border-decorative z-10 bg-background">
  <div class="container">
    <button id="menu-toggle" type="button" aria-label="Toggle menu" class="peer group md:hidden inline-grid grid-cols-[auto_auto] gap-2" aria-expanded="false" aria-controls="menu">
      <svg class="group-aria-[expanded=true]:hidden" width="24" height="24" aria-hidden="true">
        <use href="/static/images/icons.svg#menu"/>
      </svg>
      <svg class="group-aria-[expanded=false]:hidden" width="24" height="24" aria-hidden="true">
        <use href="/static/images/icons.svg#cross"/>
      </svg>
      <span class="group-aria-[expanded=true]:hidden">Menu</span>
      <span class="group-aria-[expanded=false]:hidden">Close</span>
    </button>

    <div class="max-md:fixed max-md:inset-0 max-md:bg-background max-md:-z-10 max-md:-translate-x-full max-md:duration-200 max-md:motion-reduce:duration-0 peer-aria-[expanded=true]:translate-x-0 max-md:shadow-2xl grid grid-rows-[1fr_auto] max-md:justify-center">
      <div id="menu_container" class="flex max-md:flex-col justify-end md:justify-between menu-closed max-md:pb-8 max-md:pt-20 gap-12">
        <nav aria-label="Main" id="menu" class="max-md:flex-1 flex flex-col justify-center">
          <ul class="max-md:flex-col flex items-center gap-8">
            {% for item in nav %}
              {% if item.link == page.url %}
                {% set current = 'aria-current="page"' %}
              {% else %}
                {% set current = '' %}
              {% endif %}
              <li>
                <a class="nav-link" href="{{ item.link }}" {{ current | safe }}>
                  {{- item.title -}}
                </a>
              </li>
            {% endfor %}
          </ul>
        </nav>

        <section class="theme-switcher" aria-label="Color theme switcher">
          <button class="theme-switcher-option" data-id="theme-switcher" value="light">Light</button>
          <button class="theme-switcher-option" data-id="theme-switcher" value="auto" title="As you have on your device">Auto</button>
          <button class="theme-switcher-option" data-id="theme-switcher" value="dark">Dark</button>
          <div class="theme-switcher-pill" aria-hidden="true"></div>
        </section>
      </div>
    </div>
  </div>
</header>