---
import type { MarkdownLayoutProps } from 'astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import SkipLink from '../components/SkipLink.astro';
import BaseLayout, { BaseLayoutProps } from './BaseLayout.astro';

interface ArticlePageProps extends BaseLayoutProps {
  minutesRead: string;
  createdAt: string;
}

type Props = MarkdownLayoutProps<ArticlePageProps>;

const { frontmatter } = Astro.props;
---

<BaseLayout {...frontmatter}>
  <SkipLink anchorId="skip_link" />
  <Header />
  <main id="main">
    <header
      class="bg-decorative py-12 mb-6 lg:mb-12 border-t border-b border-primary"
    >
      <div class="prose md:prose-xl mx-auto px-3">
        <h1
          class="uppercase text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-secondary"
        >
          {frontmatter.title}
        </h1>
      </div>
    </header>

    <div class="prose md:prose-xl dark:prose-invert mx-auto px-3">
      <div class="flex justify-between items-center gap-4 text-font-secondary">
        <time class="shrink-0" datetime={frontmatter.createdAt}
          >{new Date(frontmatter.createdAt).toDateString()}</time
        >
        <p class="text-right !m-0 shrink-0">{frontmatter.minutesRead}</p>
      </div>
      <slot />
    </div>
  </main>
  <div class="mt-16"></div>
  <Footer class="mt-auto" />
</BaseLayout>
